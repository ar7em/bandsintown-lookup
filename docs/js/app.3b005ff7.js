webpackJsonp([1],{0:function(t,e,n){t.exports=n("NHnr")},"4+hh":function(t,e){},"9Q5Q":function(t,e){},AEMZ:function(t,e){},AnE8:function(t,e){},G3BA:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/5sW"),a=n("Lgyv"),o=n.n(a),c=n("Biqn"),s=n.n(c),r=n("NYxO"),u={name:"Search",mounted:function(){this.$refs.input.$el.focus()},computed:s()({},Object(r["c"])({value:function(t){return t.artist},fetching:function(t){return t.infoFetching}})),methods:s()({},Object(r["b"])({requestInfo:"requestInfo"}))},d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Search"},[n("md-field",[n("label",[t._v("Artist's Name")]),n("md-input",{ref:"input",staticClass:"Search__input",attrs:{value:t.value},on:{input:t.requestInfo}})],1),n("div",{staticClass:"Search__spinner"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fetching,expression:"fetching"}]},[n("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}})],1)])],1)},f=[],v=n("XyMi");function l(t){n("AEMZ")}var m=!1,g=l,h="data-v-a3c4a748",p=null,_=Object(v["a"])(u,d,f,m,g,h,p),b=_.exports,F=n("xCiF"),I=n.n(F),E={name:"Info",computed:s()({},Object(r["c"])({info:function(t){var e=this;return this.setCover(""),I()(function(){return e.setCover(t.info.image_url)}),t.info},notFound:function(t){return t.artist&&!t.info.mbid&&!t.infoFetching}})),methods:{setCover:function(t){this.$refs&&this.$refs.bandImage&&(this.$refs.bandImage.src=t)}}},C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.info.mbid?n("div",{staticClass:"Info"},[n("md-card",{staticClass:"Info__band"},[n("md-card-media-cover",[n("md-card-media",[n("img",{ref:"bandImage",staticClass:"Info__cover",attrs:{src:t.info.image_url,alt:"info.name"}})]),n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title"},[t._v(t._s(t.info.name))]),n("div",{staticClass:"md-subhead"},[t._t("events")],2)])],1),t.info.facebook_page_url?n("md-card-actions",[n("md-button",{attrs:{href:t.info.facebook_page_url,target:"_blank"}},[t._v("See on Facebook")])],1):t._e()],1)],1)],1):n("div",[t.notFound?n("div",[t._v("\n    No information found\n  ")]):t._e()])},j=[];function O(t){n("9Q5Q")}var w=!1,A=O,k="data-v-020ad6c7",x=null,$=Object(v["a"])(E,C,j,w,A,k,x),S=$.exports,y={name:"Events",computed:s()({},Object(r["c"])({events:function(t){return t.events},fetching:function(t){return t.eventsFetching},notFound:function(t){return!(t.events.length||t.eventsFetching)}})),methods:{parseDate:function(t){return new Date(t).toLocaleDateString()}}},N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.notFound?n("div",[t._v("\n    No events found\n  ")]):n("div",[t.fetching?n("div",[n("md-progress-spinner",{attrs:{"md-mode":"indeterminate","md-diameter":30}})],1):n("md-list",{staticClass:"md-triple-line"},[t._l(t.events,function(e,i){return[n("md-list-item",{key:e.id},[n("md-avatar",[n("md-icon",[t._v("place")])],1),n("div",{staticClass:"md-list-item-text"},[n("span",[t._v(t._s(e.venue.city)+", "+t._s(e.venue.country))]),n("span",[t._v(t._s(t.parseDate(e.datetime)))]),n("p",[t._v(t._s(e.venue.name))])])],1),i<t.events.length-1?n("md-divider",{key:"divider-"+e.id,staticClass:"md-inset"}):t._e()]})],2)],1)])},G=[],q=!1,M=null,D=null,Q=null,T=Object(v["a"])(y,N,G,q,M,D,Q),B=T.exports,L={name:"app",components:{Search:b,Info:S,Events:B}},Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"App"},[n("Search"),n("Info",[n("Events",{attrs:{slot:"events"},slot:"events"})],1)],1)},H=[];function W(t){n("G3BA")}var X=!1,z=W,J=null,P=null,V=Object(v["a"])(L,Z,H,X,z,J,P),Y=V.exports,K=(n("EuXz"),n("VjuZ"),n("424j")),R=n("mtWM"),U=n.n(R),tt=n("O4Lo"),et=n.n(tt);i["default"].use(r["a"]);var nt=U.a.CancelToken,it=function(){},at=function(){},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/\//g,"%252F").replace(/\?/g,"%253F").replace(/\*/g,"%252A").replace(/"'/g,"%27C")},ct={plugins:[Object(K["a"])()],state:{artist:"",infoFetching:!1,eventsFetching:!1,info:{},events:[]},mutations:{changeArtist:function(t,e){t.artist=e},toggleInfoFetching:function(t,e){t.infoFetching=e},toggleEventsFetching:function(t,e){t.eventsFetching=e},changeInfo:function(t,e){t.info=e},changeEvents:function(t,e){t.events=e}},actions:{requestInfo:function(t,e){var n=t.dispatch,i=t.commit;if(i("changeArtist",e),!e)return it(),i("toggleInfoFetching",!1),void i("changeInfo",{});it(),at(),i("toggleInfoFetching",!0),n("debouncedGetInfo",e)},debouncedGetInfo:et()(function(t,e){var n=t.commit,i=t.dispatch,a=t.state;return U.a.get("https://rest.bandsintown.com/artists/".concat(ot(e)),{params:{app_id:"bands24"},cancelToken:new nt(function(t){it=t})}).then(function(t){a.infoFetching&&(n("changeInfo",t.data),n("changeEvents",[]),n("toggleEventsFetching",!0),i("debouncedGetEvents",t.data.name)),n("toggleInfoFetching",!1)}).catch(function(){n("toggleInfoFetching",!1)})},1e3),debouncedGetEvents:et()(function(t,e){var n=t.commit,i=t.state;return U.a.get("https://rest.bandsintown.com/artists/".concat(ot(e),"/events"),{params:{app_id:"bands24"},cancelToken:new nt(function(t){at=t})}).then(function(t){i.eventsFetching&&n("changeEvents",t.data),n("toggleEventsFetching",!1)}).catch(function(){n("toggleEventsFetching",!1)})},1e3)}},st=new r["a"].Store(ct);n("4+hh"),n("AnE8");i["default"].config.productionTip=!1,i["default"].use(o.a),new i["default"]({store:st,render:function(t){return t(Y)}}).$mount("#app")}},[0]);
//# sourceMappingURL=app.3b005ff7.js.map